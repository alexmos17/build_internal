{
  "comment": ["This is a configuration file for gatekeeper_ng.py",
              "Look at that for documentation on this file's format."],

  "masters": {
    "https://build.chromium.org/p/chromium": [
      {
        "categories": [
          "chromium_archive_build",
          "chromium_checkdeps",
          "chromium_checkdeps2git",
          "chromium_compile",
          "chromium_sizes",
          "chromium_tree_closer",
          "gclient"
        ],

        "builders": {
          "Win": {
            "categories": [
              "chromium_crash_handler",
              "chromium_windows"
            ]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.chrome": [
      {
        "categories": [
          "chromium_tree_closer",
          "chromium_recipes"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.chromiumos": [
      {
        "categories": [
          "chromium_tree_closer",
          "chromium_recipes"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.gatekeeper": [
      {
        "tree_notify": [
          "chromium-build-heartbeat@chromium-gatekeeper-sentry.appspotmail.com"
        ],

        "builders": {
          "Chromium Gatekeeper Failure": {
            "forgiving_steps": [
              "*"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.gpu": [
      {
        "tree_notify": ["chrome-gpu-build-failures@google.com"],
        "sheriff_classes": ["sheriff", "sheriff_gpu"],
        "categories": [
          "chromium_tree_closer"
        ],
        "builders": {
          "*": {
            "closing_optional": [
              "angle_unittests",
              "compile",
              "content_gl_tests",
              "context_lost_tests",
              "find isolated tests",
              "gclient runhooks",
              "gl_tests",
              "gles2_conform_test",
              "gpu_process_launch_tests",
              "gpu_rasterization_tests",
              "hardware_accelerated_feature_tests",
              "maps_pixel_test",
              "memory_test",
              "pixel_test",
              "screenshot_sync_tests",
              "tab_capture_end2end_tests",
              "webgl_conformance_tests"
            ]
          }
        },
        "comment": [
          "Keep excluded builders in sync with the gpu closers list in",
          "masters/master.chromium/templates/announce.html."
        ],
        "excluded_builders" : [
          "Android Debug (Nexus 7)",
          "GPU Linux Builder (dbg)",
          "GPU Mac Builder (dbg)",
          "GPU Win Builder (dbg)",
          "Linux Debug (NVIDIA)",
          "Mac 10.8 Debug (Intel)",
          "Mac Debug (Intel)",
          "Mac Retina Debug",
          "Win7 Debug (NVIDIA)",
          "Win8 Debug (NVIDIA)"
        ]
      }
    ],
    "https://build.chromium.org/p/chromium.linux": [
      {
        "categories": [
          "chromium_tree_closer",
          "chromium_recipes"
        ],
        "builders": {
          "Android Builder (dbg)": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android Tests (dbg)": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android Builder": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android Tests": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android Clang Builder (dbg)": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android Webview AOSP Builder": {
            "sheriff_classes": ["sheriff_android"]
          },
          "Android GN": {
            "sheriff_classes": ["sheriff_android"]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.lkgr": [
      {
        "tree_notify": [
          "jschuh@chromium.org",
          "scottmg@chromium.org",
          "wfh@chromium.org"
        ],

        "builders": {
          "Win x64": {
            "categories": [
              "chromium_archive_build",
              "chromium_compile",
              "chromium_windows",
              "gclient"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.mac": [
      {
        "categories": [
          "chromium_tree_closer",
          "chromium_recipes"
        ],
        "builders": {
          "iOS Device": {
            "sheriff_classes": ["sheriff_ios_europe", "sheriff_ios_us"]
          },
          "iOS Simulator (dbg)": {
            "sheriff_classes": ["sheriff_ios_europe", "sheriff_ios_us"]
          },
          "iOS Device (ninja)": {
            "sheriff_classes": ["sheriff_ios_europe", "sheriff_ios_us"]
          },
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.memory": [
      {
        "categories": [
          "chromium_tree_closer",
          "gclient"
        ],
        "builders": {
          "Linux Chromium OS ASan LSan Builder": {
            "categories": [
              "chromium_compile"
            ]
          },
          "Linux ASan LSan Builder": {
            "categories": [
              "chromium_compile"
            ]
          },
          "Mac ASan Builder": {
            "categories": [
              "chromium_compile"
            ]
          },
          "Mac ASan Builder": {
            "categories": [
              "chromium_compile"
            ]
          },
          "*": {
            "categories": [
              "chromium_asan_tests"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.perf": [
      {
        "tree_notify": [
          "stip@chromium.org",
          "tonyg@chromium.org"
        ],

        "sheriff_classes": ["sheriff_perf"],

        "forgive_all": "true",

        "subject_template": "%(project_name)s %(builder_name)s %(result)s",

        "categories": [
          "chromium_perf_steps",
          "gclient"
        ],

        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/chromium.webkit": [
      {
        "tree_notify": [
          "eseidel@chromium.org",
          "stip@chromium.org"
        ],

        "sheriff_classes": ["sheriff_webkit"],

        "forgive_all": "true",

        "subject_template": "%(project_name)s %(builder_name)s %(result)s",

        "comment": ["Would be nice to use a regexp  here: /Oilpan/i, etc."],
        "excluded_builders" : [
            "WebKit Linux (deps)",
            "WebKit Linux Oilpan (dbg)",
            "WebKit Linux Oilpan",
            "WebKit Linux Leak",
            "WebKit Linux Oilpan Leak",
            "WebKit Linux Oilpan ASAN",
            "WebKit Mac Builder (deps)",
            "WebKit Mac Oilpan (dbg)",
            "WebKit Mac Oilpan",
            "WebKit Mac10.6 (deps)",
            "WebKit Win Builder (deps)",
            "WebKit Win Oilpan (dbg)",
            "WebKit Win Oilpan",
            "WebKit XP (deps)"
        ],

        "builders": {
          "*": {
            "comment": ["We should close on test failures, but we don't",
                        "currently."],
            "categories": [
              "chromium_compile"
            ],

            "closing_optional": [
              "compile",
              "runhooks",
              "update"
            ]
          },

          "WebKit XP": {
            "categories": [
              "chromium_compile"
            ],

            "closing_optional": [
              "compile",
              "update"
            ]
          }
        }
      }
    ],
    "https://build.chromium.org/p/chromium.win": [
      {
        "categories": [
          "chromium_tree_closer",
          "chromium_recipes"
        ],
        "builders": {
          "*": {}
        }
      }
    ],
    "https://build.chromium.org/p/client.libvpx": [
      {
        "tree_notify": [
          "stip@chromium.org",
          "vpx-eng@google.com"
        ],

        "forgive_all": "true",

        "builders": {
          "*": {
            "closing_optional": [
              "*"
            ]
          }
        }
      }
    ]
  },

  "categories": {
    "gclient": {
      "closing_optional": [
        "runhooks"
      ],
      "forgiving_optional": [
        "update"
      ]
    },

    "chromium_sizes": {
      "closing_optional": [
        "sizes"
      ]
    },

    "chromium_crash_handler": {
      "forgiving_optional": [
        "start_crash_handler"
      ]
    },

    "chromium_tree_closer":{
      "sheriff_classes": ["sheriff"],
      "status_template": "Tree is closed (Automatic: \"%(unsatisfied)s\" on %(build_url)s \"%(builder_name)s\" from %(revision)s: %(blamelist)s)"
    },

    "chromium_windows": {
      "forgiving_optional": [
        "svnkill",
        "taskkill"
      ]
    },

    "chromium_checkdeps": {
      "closing_optional": [
        "check_deps"
      ]
    },

    "chromium_checkdeps2git": {
      "closing_optional": [
        "check_deps2git"
      ]
    },

    "chromium_compile": {
      "closing_optional": [
        "compile"
      ]
    },

    "chromium_archive_build": {
      "forgiving_optional": [
        "archive_build"
      ]
    },

    "chromium_perf_steps": {
      "closing_optional": [
        "*"
      ]
    },
    "chromium_recipes": {
      "closing_optional": [
        "*"
      ]
    },
    "chromium_asan_tests": {
      "closing_optional": [
        "base_unittests",
        "browser_tests",
        "cacheinvalidation_unittests",
        "cc_unittests",
        "content_browsertests",
        "content_unittests",
        "courgette_unittests",
        "crypto_unittests",
        "device_unittests",
        "gcm_unit_tests",
        "gpu_unittests",
        "installer_util_unittests",
        "ipc_tests",
        "jingle_unittests",
        "media_unittests",
        "nacl_integration",
        "net_unittests",
        "ppapi_unittests",
        "printing_unittests",
        "remoting_unittests",
        "sandbox_linux_unittests",
        "sql_unittests",
        "sync_unit_tests",
        "ui_unittests",
        "unit_tests",
        "url_unittests"
      ]
    }
  }
}
